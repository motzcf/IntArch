<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="Cache-control" content="no-cache">
        <meta http-equiv="Expires" content="-1">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="leaflet/leaflet.css">
        <script src="leaflet/leaflet.js"></script>
        <style>
        html, body, #map {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }
        </style>
        <title>TARP Materials Processing Workflow</title>
    </head>
    
    <body>
        <div id="map">
        </div>
        <script src="data/WorkflowFeatures.js"></script>
        
        <script>
        
        	var bounds = [[0,0], [32.04,52]];

        	var map = L.map('map', {
    			crs: L.CRS.Simple,
    			minZoom: 4.5,
    			maxZoom: 7,
    			maxBounds: [[-2,-2], [34.04,54]],
    			maxBoundsViscosity: 0.5,
    			zoomSnap: 0.5
			});

			var image = L.imageOverlay('data/TARP_Materials_workflows_DRAFT_01_29_20_p200.jpg', bounds).addTo(map);

			map.fitBounds(bounds);
			map.setZoom(4.5);
			

		// Add Workflow Features
			function pop_WorkflowFeatures(feature, layer) {
				/*
				'TEST'
				;
			
				layer.bindPopup(pop_WorkflowFeatures);
				*/
				
				layer.bindPopup(feature.properties.PopupText);
				

			}
			
			var myStyle = {
				"color": "#ff7800",
				"weight": 2,
				"opacity": 0.5,
				"fillOpacity": 0
			};

			L.geoJSON(json_WorkflowFeatures, {
				onEachFeature: pop_WorkflowFeatures,
				style: myStyle
			}).addTo(map);
			
			
        </script>
        
    </body>
</html>
